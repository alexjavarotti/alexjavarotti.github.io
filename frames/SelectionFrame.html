<html>

<head>
    <script>

        var index = [
            {
                name: 'Casos acumulados',
                urlChart: 'https://alexjavarotti.github.io/frames/charts/chart1.html',
                csvSource: {
                    url: 'alexjavarotti.github.io/frames/charts/data.csv',
                    column: 'Total',
                    row: 'Casos'
                }
            },
            {
                name: 'Projeção de casos',
                urlChart: 'https://alexjavarotti.github.io/frames/charts/chart2.html',
                csvSource: {
                    url: 'alexjavarotti.github.io/frames/charts/data.csv',
                    column: 'Total',
                    row: 'Óbitos'
                }
            },
            {
                name: 'Óbitos acumulados',
                urlChart: 'https://alexjavarotti.github.io/frames/charts/chart3.html',
                csvSource: {
                    url: 'alexjavarotti.github.io/frames/charts/data.csv',
                    column: 'Total',
                    row: 'Projeção'
                }
            }

        ]

        function selectionChanged() {
            var selection = document.getElementById("selection").value;
            var item = index.filter(x => x['name'] === selection)
            document.getElementById("frame").src = item[0]["urlChart"]
        }

        function loadSelectionItens() {
            var selector = document.getElementById("selection")
            insertItem(selector, "Selecione uma fonte de dados")
            for (item of index) {
                insertItem(selector, item['name'])
            }
        }

        function insertItem(selector, label) {
            var option = document.createElement("option")
            option.text = label
            selector.add(option)
        }


    </script>
</head>

<body onload="loadSelectionItens()">
    <div>
        <div>
            <select id="selection" style="height:30px; width:250px" onchange="selectionChanged()"></select>
        </div>
        <iframe id="frame" frameBorder="1" width='1000px' height='400px'></iframe>
    </div>
</body>

</html>